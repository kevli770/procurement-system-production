# ההבדל בין התקנה ראשונית לעדכונים שוטפים

## 🎯 סיכום מהיר

### ✅ התקנה ראשונית (פעם אחת בלבד)
**זמן:** 30-45 דקות
**תדירות:** פעם אחת, כשמקימים את השרת

### ✅ עדכון גרסה (כל פעם שיש גרסה חדשה)
**זמן:** 2 דקות
**תדירות:** כל פעם שהמפתח מפרסם גרסה חדשה

---

## 📦 התקנה ראשונית - מה איש המערכת צריך לעשות?

### 1️⃣ התקנת תוכנות (פעם אחת)
```
✓ Node.js 20 LTS
✓ PM2
✓ הורדת האפליקציה הראשונית
```

### 2️⃣ הגדרת קבצים (פעם אחת)
```
✓ יצירת תיקיות: C:\inetpub\procurement, C:\backups\procurement
✓ יצירת קובץ .env (הגדרות אפליקציה)
✓ הרצת התקנה ראשונית של DB
```

### 3️⃣ הפעלת האפליקציה (פעם אחת)
```
✓ pm2 start
✓ בדיקה שהאפליקציה רצה
```

### 4️⃣ בדיקת הסקריפטים (פעם אחת)
**רק אם המיקומים שונים מברירת המחדל!**

```powershell
# פתיחת הסקריפט
notepad C:\inetpub\procurement\deployment\update-production.ps1

# בדיקה של השורות האלה (בערך שורה 40):
$RepoOwner = "kevli770"                    # ✓ נכון
$RepoName = "procurement-system-production" # ✓ נכון
$AppName = "procurement"                    # ✓ נכון
$DeployPath = "C:\inetpub\$AppName"        # ✓ נכון אם התקנת ב-C:\inetpub
$BackupPath = "C:\backups\$AppName"        # ✓ נכון אם הגדרת את הגיבויים שם
```

**אם הכל תואם - לא צריך לשנות כלום!**

**רק אם שינית משהו, לדוגמה:**
- התקנת בדיסק D במקום C
- שינית את שם האפליקציה ב-PM2
- שינית את שם הרפוזיטורי בגיטהאב

**אז תעדכן את השורות המתאימות.**

---

## 🚀 עדכון גרסה - מה איש המערכת עושה כל פעם?

### כשמגיעה הודעה: "גרסה חדשה v0.2.0 מוכנה"

**זהו כל מה שצריך לעשות:**

```powershell
cd C:\inetpub\procurement\deployment
.\update-production.ps1 -Version "0.2.0"
```

**השלב היחיד שמשתנה:** מספר הגרסה!

```powershell
# גרסה 0.2.0
.\update-production.ps1 -Version "0.2.0"

# גרסה 0.3.0
.\update-production.ps1 -Version "0.3.0"

# גרסה 1.0.0
.\update-production.ps1 -Version "1.0.0"
```

**הכל השאר אוטומטי!**

---

## 📊 השוואה

| מה | התקנה ראשונית | עדכון גרסה |
|---|---|---|
| **תדירות** | פעם אחת | כל גרסה חדשה |
| **זמן** | 30-45 דקות | 2 דקות |
| **מה צריך לעדכן** | הכל | רק מספר גרסה |
| **הגדרות** | קובץ .env, paths בסקריפט | כלום! |
| **התקנות** | Node.js, PM2, dependencies | כלום! |

---

## ❌ טעויות נפוצות

### ❌ טעות 1: "אני צריך לערוך את הסקריפט כל פעם"
**לא!** הסקריפט מוגדר פעם אחת בהתקנה הראשונית.

בעדכונים רגילים רק משנים את מספר הגרסה בפקודה:
```powershell
.\update-production.ps1 -Version "0.2.0"  # ← רק זה משתנה!
```

---

### ❌ טעות 2: "אני צריך להוריד את ה-ZIP ידנית"
**לא!** הסקריפט מוריד את ה-ZIP אוטומטית מגיטהאב.

**אתה לא צריך לגעת בשום קובץ!**

---

### ❌ טעות 3: "אני צריך לעדכן paths כל פעם"
**לא!** ה-paths מוגדרים פעם אחת בהתקנה הראשונית.

אלא אם כן אתה **מעביר את האפליקציה למיקום אחר** - אז הכל נשאר כמו שהוא.

---

## ✅ מה בעצם משתנה בעדכונים?

### בפקודה שלך:
```powershell
.\update-production.ps1 -Version "0.2.0"
                                  ↑
                          רק זה משתנה!
```

### בתוך הסקריפט:
**כלום!** הסקריפט קורא את מספר הגרסה שנתת ומשתמש בזה כדי:
1. להוריד את procurement-v**0.2.0**.zip מגיטהאב
2. ליצור backup בשם v**0.2.0**-[timestamp]
3. לרשום בלוג "Deployed v**0.2.0**"

**כל השאר זהה בכל עדכון!**

---

## 📝 דוגמה מעשית

### פעם 1: גרסה 0.2.0

איש המערכת מקבל:
```
"גרסה v0.2.0 מוכנה
הוספנו שדה טלפון לספקים"
```

הוא מריץ:
```powershell
.\update-production.ps1 -Version "0.2.0"
```

---

### פעם 2: גרסה 0.3.0

איש המערכת מקבל:
```
"גרסה v0.3.0 מוכנה
תיקנו באג בדוחות"
```

הוא מריץ:
```powershell
.\update-production.ps1 -Version "0.3.0"
```

---

### פעם 3: גרסה 1.0.0

איש המערכת מקבל:
```
"גרסה v1.0.0 מוכנה
גרסה יציבה ראשונה!"
```

הוא מריץ:
```powershell
.\update-production.ps1 -Version "1.0.0"
```

---

**שים לב:** הפקודה זהה! רק מספר הגרסה משתנה.

---

## 🎯 סיכום סופי

### התקנה ראשונית (פעם אחת):
1. התקנת Node.js + PM2
2. הורדת אפליקציה ראשונית
3. יצירת .env
4. אתחול DB
5. בדיקת הגדרות בסקריפט (רק אם המיקומים שונים!)
6. הפעלת האפליקציה

**זמן:** 30-45 דקות

---

### עדכון גרסה (כל פעם):
```powershell
.\update-production.ps1 -Version "X.X.X"
```

**זמן:** 2 דקות
**מה משתנה:** רק מספר הגרסה בפקודה
**מה לא צריך לעדכן:** כלום!

---

## 📚 מסמכים

**להתקנה ראשונית:**
- [INITIAL-SETUP-FOR-SYSADMIN.md](INITIAL-SETUP-FOR-SYSADMIN.md) - מדריך מלא באנגלית

**לעדכונים שוטפים:**
- [DEPLOYMENT-GUIDE-FOR-SYSADMIN.md](DEPLOYMENT-GUIDE-FOR-SYSADMIN.md) - מדריך באנגלית
- [QUICK-START.md](QUICK-START.md) - מדריך מהיר

---

**עדכון אחרון:** אוקטובר 2025
